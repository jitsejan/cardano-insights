version: 2

sources:
  - name: lido
    description: "Raw data from Lido Nation Catalyst Explorer API via dlt"
    tables:
      - name: funds
        description: "Catalyst funding rounds (F1, F2, etc.)"
        columns:
          - name: id
            description: "Unique fund identifier"
            tests:
              - unique
              - not_null
          - name: title
            description: "Fund title (e.g., 'Fund 13')"
          - name: amount
            description: "Total funding available in ADA"
          - name: proposals_count
            description: "Number of proposals submitted to this fund"
      
      - name: proposals_enriched
        description: "Catalyst proposals enriched with GitHub links and categories"
        columns:
          - name: id
            description: "Unique proposal identifier"
            tests:
              - unique
              - not_null
          - name: fund_id
            description: "Foreign key to funds table"
            tests:
              - not_null
          - name: title
            description: "Proposal title"
            tests:
              - not_null
          - name: amount_requested
            description: "Funding amount requested in ADA"
          - name: amount_received
            description: "Actual funding received (0 if not funded)"
          - name: has_github
            description: "Boolean indicating if proposal has GitHub links"
          - name: github_links
            description: "Array of GitHub repository URLs"
          - name: categories
            description: "Array of AI-categorized project categories"